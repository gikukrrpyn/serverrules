(()=>{const searchInput=document.getElementById('search-input');const resultsContainer=document.getElementById('search-results');const menuItems=Array.from(document.querySelectorAll('.menu-item'));function stripHTML(html){let div=document.createElement("div");div.innerHTML=html;return div.textContent||div.innerText||""}
const searchData=menuItems.map((item,index)=>{const titleSpan=item.querySelector('b > span');const title=titleSpan?titleSpan.textContent.trim():'';const onclickAttr=item.getAttribute('onclick')||'';let fullContent='';try{const match=onclickAttr.match(/openModalFromId\(([\s\S]*?)\)$/);if(match){const args=match[1];const argRegex=/`([\s\S]*?)`/g;let argMatch;while((argMatch=argRegex.exec(args))!==null){fullContent+=' '+stripHTML(argMatch[1])}
if(fullContent.trim()===''){const fallbackRegex=/(["'`])((?:\\\1|[\s\S])*?)\1/g;let fallbackMatch;while((fallbackMatch=fallbackRegex.exec(args))!==null){let raw=fallbackMatch[2];raw=raw.replace(/\\n|\\t|\\r/g,' ');fullContent+=' '+stripHTML(raw)}}}}catch(e){console.warn('Помилка при розборі openModalFromId',e)}
return{menuItem:item,index:index+1,title,content:fullContent.trim()}});function highlightWord(element,word){if(!word)return;const regex=new RegExp(`(${word})`,'gi');const originalText=element.innerHTML;element.innerHTML=element.innerHTML.replace(regex,'<span class="highlighted">$1</span>');setTimeout(()=>{element.innerHTML=originalText},2000)}
function smoothScrollTo(element,offset=0){const top=element.getBoundingClientRect().top+window.pageYOffset+offset;window.scrollTo({top,behavior:'smooth'})}
if(typeof window.openModal==='function'){const originalOpenModal=window.openModal;window.openModal=function(...args){originalOpenModal(...args);setTimeout(()=>{const modal=document.querySelector('.modal');if(!modal)return;const searchTerm=searchInput.value.trim();if(!searchTerm)return;function highlightInElement(el,word){const regex=new RegExp(`(${word})`,'i');const walker=document.createTreeWalker(el,NodeFilter.SHOW_TEXT,null);while(walker.nextNode()){const node=walker.currentNode;if(node.nodeValue&&regex.test(node.nodeValue)){const span=document.createElement('span');span.className='highlighted';const parts=node.nodeValue.split(regex);const frag=document.createDocumentFragment();for(let i=0;i<parts.length;i++){if(parts[i].toLowerCase()===word.toLowerCase()){const highlightSpan=document.createElement('span');highlightSpan.className='highlighted';highlightSpan.textContent=parts[i];frag.appendChild(highlightSpan)}else{frag.appendChild(document.createTextNode(parts[i]))}}
node.parentNode.replaceChild(frag,node);return}}}
highlightInElement(modal,searchTerm);const highlighted=modal.querySelector('.highlighted');if(highlighted){highlighted.scrollIntoView({behavior:'smooth',block:'center'});setTimeout(()=>{const spans=modal.querySelectorAll('.highlighted');spans.forEach(s=>{const parent=s.parentNode;parent.replaceChild(document.createTextNode(s.textContent),s);parent.normalize()})},2000)}},100)}}
searchInput.addEventListener('input',()=>{const query=searchInput.value.trim().toLowerCase();resultsContainer.innerHTML='';if(!query)return;const filtered=searchData.filter(({title='',content='',index})=>{return(title.toLowerCase().includes(query)||content.toLowerCase().includes(query)||index.toString().includes(query))});if(filtered.length===0){resultsContainer.innerHTML='<div>Нічого не знайдено.</div>';return}
filtered.forEach(({menuItem,title,index})=>{const div=document.createElement('div');div.textContent=`${index}. ${title}`;div.title=`Перейти до пункту: ${title}`;div.addEventListener('click',()=>{menuItem.click();setTimeout(()=>{searchData
menuItem.scrollIntoView({behavior:'smooth',block:'center'})},100)});resultsContainer.appendChild(div)})})})();const input=document.getElementById("search-input");const results=document.getElementById("search-results");input.addEventListener("input",()=>{const value=input.value.trim();if(value.length>0){results.style.display="block"}else{results.style.display="none"}});function openModal(rule,penalty,id){document.getElementById('ruleText').innerHTML=rule;document.getElementById('penaltyText').innerHTML=penalty||'';const modal=document.getElementById('ruleModal');modal.setAttribute('data-id',id||'');modal.style.display='block';if(!id){history.replaceState(null,null,window.location.pathname+window.location.search);const container=document.getElementById('modalShareLink');if(container){container.innerHTML='';container.remove()}}}
function openModalFromId(idOrHtml,ruleOrPenalty,penalty){const modal=document.getElementById('ruleModal');const backdrop=document.getElementById('modalBackdrop');if(ruleOrPenalty===undefined&&penalty===undefined){const rule=idOrHtml;openModal(rule,'','')}else{history.replaceState(null,null,`#${idOrHtml}`);openModal(ruleOrPenalty,penalty,idOrHtml);addShareLinkButton(idOrHtml)}
modal.style.display='block';backdrop.style.display='block';document.body.style.overflow='hidden'}
function closeModal(){history.pushState("",document.title,window.location.pathname+window.location.search);const modal=document.getElementById('ruleModal');const backdrop=document.getElementById('modalBackdrop');modal.style.display='none';backdrop.style.display='none';document.body.style.overflow='';const container=document.getElementById('modalShareLink');if(container){container.innerHTML='';container.remove()}}
document.getElementById('modalBackdrop').addEventListener('click',closeModal);window.addEventListener('scroll',function(){const topBar=document.querySelector('.top-bar');const header=document.querySelector('.header');if(topBar&&header){if(window.scrollY>0){topBar.classList.add('scrolled');header.classList.add('scrolled')}else{topBar.classList.remove('scrolled');header.classList.remove('scrolled')}}});window.addEventListener('scroll',function(){let menuItems=document.querySelectorAll('.menu-item');menuItems.forEach(item=>{if(isElementInView(item)){item.classList.add('visible')}})});function isElementInView(el){let rect=el.getBoundingClientRect();return rect.top>=0&&rect.top<=window.innerHeight}
window.addEventListener('load',function(){let menuItems=document.querySelectorAll('.menu-item');menuItems.forEach((item,index)=>{setTimeout(()=>{item.classList.add('visible')},index*300)})});window.addEventListener('scroll',function(){let menuItems=document.querySelectorAll('.menu-item');menuItems.forEach(item=>{if(isElementInView(item)){item.classList.add('visible')}})});function isElementInView(el){let rect=el.getBoundingClientRect();return rect.top>=0&&rect.top<=window.innerHeight}
function addShareLinkButton(id){let container=document.getElementById('modalShareLink');if(!container){container=document.createElement('div');container.id='modalShareLink';container.style.position='absolute';container.style.top='10px';container.style.left='10px';container.style.zIndex='9999';const modal=document.getElementById('ruleModal');modal.prepend(container)}
container.innerHTML='';const button=document.createElement('button');button.classList.add('copy-link-btn');button.onclick=async()=>{const link=`${window.location.origin}${window.location.pathname}#${id}`;try{await navigator.clipboard.writeText(link);button.classList.add('copied');setTimeout(()=>{button.classList.remove('copied')},2000)}catch(err){const fallbackInput=document.createElement('input');fallbackInput.value=link;document.body.appendChild(fallbackInput);fallbackInput.select();document.execCommand('copy');document.body.removeChild(fallbackInput);button.classList.add('copied');setTimeout(()=>{button.classList.remove('copied')},2000)}};container.appendChild(button)}
window.addEventListener('DOMContentLoaded',()=>{if(performance.navigation.type===performance.navigation.TYPE_RELOAD){history.replaceState(null,null,window.location.pathname);return}
const hash=window.location.hash.replace('#','');if(!hash)return;const targetItem=document.querySelector(`.menu-item[data-id="${hash}"]`);if(targetItem){targetItem.click();setTimeout(()=>{targetItem.scrollIntoView({behavior:'smooth',block:'center'})},100)}});function getTodayKey(){const date=new Date();const year=date.getFullYear();const month=String(date.getMonth()+1).padStart(2,'0');const day=String(date.getDate()).padStart(2,'0');return `views/${year}-${month}-${day}`}
function incrementGlobalViewCounter(){const ref=firebase.database().ref(getTodayKey());console.log('Інкрементуємо лічильник за ключем:',getTodayKey());ref.transaction(current=>{console.log('Поточне значення:',current);return(current||0)+1},(error,committed,snapshot)=>{if(error){console.error('Transaction failed:',error)}else if(!committed){console.log('Transaction не зафіксовано')}else{console.log('Transaction зафіксовано, нове значення:',snapshot.val());localStorage.setItem('lastViewTime',Date.now())}})}
function updateGlobalViewDisplay(){const ref=firebase.database().ref(getTodayKey());const counterDiv=document.getElementById('viewCounter');if(!counterDiv){console.warn('Елемент #viewCounter не знайдено');return}
ref.on('value',(snapshot)=>{const count=snapshot.val()||0;console.log('Поточне значення з Firebase:',count);counterDiv.innerHTML=`<strong>${count}</strong>`})}
function tryIncrementWithLimit(){const now=Date.now();const lastViewTime=localStorage.getItem('lastViewTime');const limit=5*60*1000;if(!lastViewTime||(now-parseInt(lastViewTime,10))>limit){incrementGlobalViewCounter()}else{console.log('Перегляд вже зарахований, чекати 5 хвилин')}}
window.addEventListener('DOMContentLoaded',()=>{updateGlobalViewDisplay();tryIncrementWithLimit()});window.addEventListener('scroll',()=>{if(window.scrollY>50){document.body.classList.add('scrolled')}else{document.body.classList.remove('scrolled')}});function scrollToElement(idOrClass,index=null){let target;if(index===null){target=document.getElementById(idOrClass)}else{const elements=document.getElementsByClassName(idOrClass);target=elements[index]}
if(target){const elementTop=target.getBoundingClientRect().top+window.scrollY;const elementHeight=target.offsetHeight;const windowHeight=window.innerHeight;const scrollPosition=elementTop-(windowHeight/2)+(elementHeight/2);window.scrollTo({top:scrollPosition,behavior:'smooth'})}}
document.addEventListener('DOMContentLoaded',function(){function initDropdowns(){const dropdowns=document.querySelectorAll('.org-dropdown');dropdowns.forEach(dropdown=>{const dropdownBtn=dropdown.querySelector('.org-dropbtn');const dropdownItems=dropdown.querySelectorAll('.org-dropdown-item');if(!dropdownBtn)return;const sectionContainer=dropdown.closest('.org-section');const tabContents=sectionContainer?sectionContainer.querySelectorAll('.org-tab-content'):document.querySelectorAll('.org-tab-content');let activeTab=sectionContainer?sectionContainer.querySelector('.org-tab-content.active'):document.querySelector('.org-tab-content.active');if(!activeTab&&sectionContainer){activeTab=sectionContainer.querySelector('.org-tab-content');if(activeTab){activeTab.classList.add('active')}}
if(activeTab){const activeTabClass=Array.from(activeTab.classList).find(cls=>cls!=='org-tab-content'&&cls!=='active');if(activeTabClass){const matchingItem=Array.from(dropdownItems).find(item=>item.getAttribute('data-section')===activeTabClass);if(matchingItem){dropdownBtn.textContent=matchingItem.textContent}else{const firstItem=dropdownItems[0];if(firstItem){dropdownBtn.textContent=firstItem.textContent}}}}else{const firstItem=dropdownItems[0];if(firstItem){dropdownBtn.textContent=firstItem.textContent}}
dropdownBtn.addEventListener('click',function(){dropdown.classList.toggle('active')});dropdownItems.forEach(item=>{item.addEventListener('click',function(){const sectionId=this.getAttribute('data-section');dropdownBtn.textContent=this.textContent;dropdown.classList.remove('active');if(sectionContainer){sectionContainer.querySelectorAll('.org-tab-content').forEach(content=>{content.classList.remove('active')})}else{tabContents.forEach(content=>{content.classList.remove('active')})}
const selectedContent=sectionContainer?sectionContainer.querySelector(`.org-tab-content.${sectionId}`):document.querySelector(`.org-tab-content.${sectionId}`);if(selectedContent){selectedContent.classList.add('active')}})})});document.addEventListener('click',function(event){dropdowns.forEach(dropdown=>{if(!dropdown.contains(event.target)){dropdown.classList.remove('active')}})})}
function initRankAccordions(){document.querySelectorAll('.rank-title').forEach(title=>{title.addEventListener('click',function(){const content=this.nextElementSibling;const isActive=content.classList.contains('active');const sectionContainer=this.closest('.org-section');if(sectionContainer){sectionContainer.querySelectorAll('.rank-content').forEach(c=>{c.classList.remove('active')})}else{document.querySelectorAll('.rank-content').forEach(c=>{c.classList.remove('active')})}
if(!isActive){content.classList.add('active')}});title.addEventListener('keydown',function(e){if(e.key==='Enter'||e.key===' '){e.preventDefault();this.click()}})})}
initDropdowns();initRankAccordions()});document.addEventListener("DOMContentLoaded",()=>{const reviews=Array.from(document.querySelectorAll('.review-card'));const arrowNext=document.querySelector('.arrow-next');const arrowPrev=document.querySelector('.arrow-prev');let current=0;let autoSlideInterval=null;let autoSlideBlocked=!1;let blockTimeout=null;function updateStars(container){const rating=parseInt(container.getAttribute('data-rating'))||0;const starsContainer=container.querySelector('.stars');starsContainer.innerHTML='';for(let i=1;i<=5;i++){const star=document.createElement('span');star.classList.add('star');star.innerHTML='★';if(i<=rating){star.classList.add('filled')}
starsContainer.appendChild(star)}}
function show(i){reviews.forEach((r)=>r.classList.remove('active'));const activeReview=reviews[i];activeReview.classList.add('active');const reviewContent=activeReview.querySelector('.review-content');updateStars(reviewContent)}
function next(){current=(current+1)%reviews.length;show(current)}
function prev(){current=(current-1+reviews.length)%reviews.length;show(current)}
function autoNext(){if(!autoSlideBlocked){let nextIndex;do{nextIndex=Math.floor(Math.random()*reviews.length)}while(nextIndex===current&&reviews.length>1);current=nextIndex;show(current)}}
function blockAutoSlide(){autoSlideBlocked=!0;if(blockTimeout)clearTimeout(blockTimeout);blockTimeout=setTimeout(()=>{autoSlideBlocked=!1},10000)}
if(arrowNext){arrowNext.addEventListener('click',()=>{next();blockAutoSlide()})}
if(arrowPrev){arrowPrev.addEventListener('click',()=>{prev();blockAutoSlide()})}
autoSlideInterval=setInterval(autoNext,6000);show(current)});document.querySelectorAll('.faq-question').forEach(button=>{button.addEventListener('click',()=>{const item=button.closest('.faq-item');const answer=item.querySelector('.faq-answer');const icon=button.querySelector('.faq-icon');const isActive=item.classList.contains('active');document.querySelectorAll('.faq-item').forEach(i=>{if(i!==item){i.classList.remove('active');i.querySelector('.faq-icon').textContent='+';i.querySelector('.faq-answer').style.maxHeight=null;i.querySelector('.faq-answer').style.paddingBottom="0"}});if(!isActive){item.classList.add('active');icon.textContent='−';answer.style.maxHeight=answer.scrollHeight+"px";answer.style.paddingBottom="20px"}else{item.classList.remove('active');icon.textContent='+';answer.style.maxHeight=null;answer.style.paddingBottom="0"}})});const fortunes=["Іноді мовчання голосніше за крик.","Той, хто знайшов спокій, більше не женеться за щастям.","Дорога виникає під ногами того, хто йде.","Щирість завжди перемагає.","Хто слухає серце — не заблукає.","Тіні зникають, коли йдеш до світла.","Справжня сила — у вмінні чекати.","Тиша знає відповіді на все.","Те, що твоє, тебе знайде.","Дива приходять до тих, хто вірить.","Хто боїться падінь — не бачить висот.","Кожна рана вчить мудрості.","Іноді втратити — це знайти.","Поспішай повільно, і прийдеш швидше.","Серце знає те, чого не бачать очі.","Хто посіяв добро — пожне спокій.","Темрява потрібна, щоб побачити зірки.","Найменший крок змінює шлях.","Ніщо не триває вічно, крім змін.","Секрет щастя — в простоті.","Хто вдячний — завжди багатий.","Мудрий чує тишу там, де інші чують шум.","Навіть річка точить камінь терпінням.","Той, хто шукає сенс, уже на шляху.","Легше йти, коли не тягнеш минуле.","Навіть з попелу виростає життя.","Віра сильніша за страх.","Там, де любов, немає темряви.","Найцінніше завжди невидиме.","Спокій — це найбільша перемога.","Зміни починаються з малого кроку.","Дорога того варта, хто йде нею.","Хто відпускає — отримує більше.","Ніч найдовша перед світанком.","Все можливо, якщо вірити.","Усмішка змінює світ.","Щоб побачити світло, іноді треба заплющити очі.","Справжня сила — у вмінні відпустити.","Тиша знає більше, ніж ти думаєш.","Деякі двері зачиняються, щоб ти не загубився.","Втрачаючи одне, ми знаходимо інше.","Не всі битви варто вигравати.","Іноді найкоротший шлях — коло.","Той, хто слухає серце, не помиляється.","Ріка не питає дозволу текти.","Все мине — і радість, і смуток.","Найважчий крок — перший, найцінніший — останній.","Світ змінюється тоді, коли змінюєшся ти.","Не бійся темряви — там народжуються зірки.","Сьогодні твій день!","Не бійся змін — вони ведуть до кращого.","Ти знайдеш щось цінне зовсім скоро.","Успіх уже на порозі!","Ти зустрінеш давнього друга.","Довірся життю — воно мудре.","Ти привертаєш удачу.","Хороший настрій притягує хороші події.","Твоя усмішка сьогодні змінить чиєсь життя.","Все складеться найкращим чином.","Ти знайдеш час для себе.","Кожна мить — шанс для щастя.","Сьогодні варто поділитися радістю.","Кожна посмішка повертається сторицею.","Найкращі рішення приходять спокійно.","Нова пригода починається сьогодні.","Хто не шукає, той не знаходить.","Іноді заблукати — єдиний шлях знайти себе.","Справжня свобода — всередині тебе.","Коли зупиняєшся — чуєш більше.","Тільки тиша відповідає на складні питання.","Тінь не з’являється без світла.","Щоб знайти шлях, іноді треба втратити карту.","Той, хто чекає, завжди зустріне своє.","Море не боїться бурі — і ти не бійся змін.","Хто втратив усе — отримав свободу.","Справжні скарби не мають ціни.","Іноді кінець — це початок іншого шляху.","Хто чекає слушного моменту, той вже запізнився.","Ключ до свободи — всередині тебе.","Тиша навчає більше, ніж тисячі слів.","Кожен день — новий шанс почати.","Той, хто не ризикує, ніколи не злітає.","Віра в себе творить дива.","Життя винагороджує сміливих.","Іноді потрібно зупинитися, щоб піти далі.","Кожен світанок несе нову надію.","Не бійся втратити те, що не твоє.","Справжня сила — у спокої.","Невидимі двері відчиняються для рішучих.","Те, що шукаєш, шукає тебе.","Чисте серце бачить красу всюди.","Іноді мовчання — це відповідь.","Навіть маленький крок змінює все.","Хто довіряє життю — знаходить шлях.","Щастя приходить непомітно.","Коли темно, шукай зірки.","Твоя енергія притягує твоє життя.","Відпусти минуле — і відкриється майбутнє.","Справжнє багатство — час і спокій.","Там, де вдячність, там мир.","Іноді оминути бурю — значить втратити веселку.","Завжди є вихід, навіть у темряві.","Найбільші відкриття — у середині себе.","Справжня мандрівка починається в серці.","Мудрість приходить до тих, хто слухає.","Навіть падіння — це рух уперед.","Кожна зустріч має сенс.","Випадковості — це плани Всесвіту.","Твої думки формують твою реальність.","Іноді шлях важливіший за мету.","Немає обмежень, крім тих, що в голові.","Потік життя веде тих, хто не чіпляється.","Там, де довіра, там сила.","Доброта повертається несподівано.","Навіть коротка пауза може змінити все.","Майбутнє народжується в теперішньому.","Твій спокій дорожчий за суперечку.","Той, хто вміє чекати, отримує більше.","Кожна зима завершується весною.","Справжня свобода — у прийнятті себе.","Навіть закриті двері відкривають шлях до нового.","Нічого не буває просто так.","Хто шукає гармонію — знаходить її всередині.","Дорога легша, коли йдеш із вірою.","Тиша допомагає почути себе.","Хто не боїться йти один — знайде свій шлях.","Світ відкривається тому, хто відкритий світу.","Час працює на тебе.","Ти — джерело натхнення для інших.","Не бійся почати з нуля.","Справжнє щастя всередині тебе.","Твоя енергія притягує успіх.","Час великих звершень наближається.","Ти здатний на більше, ніж здається.","День буде сповнений приємних сюрпризів.","Довіра до себе — ключ до перемоги.","Ти відкриєш нові горизонти.","Життя любить тих, хто посміхається.","Твої старання принесуть плоди.","Сьогодні ти знайдеш нове натхнення.","Щастя любить твою компанію.","Хто дивиться вгору, знаходить зорі.","Справжня мудрість приходить із досвідом.","Не бійся зробити перший крок.","Відвага народжується у момент страху.","Світло завжди перемагає темряву.","Немає випадковостей — є уроки.","Любов лікує найглибші рани.","Кожен день — нова сторінка життя.","Будь собою, решта вже зайняті.","Сміливість — це дія попри сумніви.","Сила духу важливіша за силу тіла.","Вір у себе і в свої можливості.","Зміни починаються з маленького кроку.","Не шукай легких шляхів — вони не ведуть до вершин.","Щастя — це вибір, а не обставина.","Прощення звільняє душу.","Кожна помилка — це крок до мети.","Життя коротке, живи яскраво.","Мрії реалізуються тим, хто діє.","Ніколи не пізно почати знову.","Терпіння відкриває двері можливостей.","Вдячність перетворює звичайне в диво.","Радість живе в простих речах.","Кожен вибір формує твоє завтра.","Слухай свій внутрішній голос.","Успіх — це поєднання праці і віри.","Не дозволяй страху керувати тобою.","Пам’ятай, що ти не сам.","Друзі — це родина, обранці серця.","Життя — це мистецтво знаходити баланс.","Кожен світанок — шанс змінити все.","Навчайся на кожному кроці.","Відкритість дарує нові можливості.","Час лікує навіть найглибші рани.","Ти сильніший, ніж здаєшся.","Мрії живуть у серці сміливців.","Доброта — це мова, яку розуміють усі.","Не бійся бути вразливим.","Кожна подорож починається з кроку.","Зміни — це шлях до росту.","Ніколи не припиняй вірити.","Світ чекає на твої таланти.","Роби добро, не чекаючи нагороди.","Сміх — найкращий лікар.","Майбутнє належить тим, хто готується сьогодні.","Вір у дива і вони стануться.","Твоя історія ще не закінчена.","Справжня краса — у простоті.","Любов іде від серця до серця.","Живи, а не існуй.","Будь світлом у темряві.","Свобода — найвища цінність людини. — Василь Стус","Свою Україну любіть. — Тарас Шевченко","Борітеся — поборете! — Тарас Шевченко","Народ, який не знає свого минулого, не вартий свого майбутнього. — Михайло Грушевський","Душа людини — то великий світ. — Леся Українка","І чужому научайтесь, й свого не цурайтесь. — Тарас Шевченко","Без віри в себе нема сили перемагати. — Ліна Костенко","Ідея нації — понад усе. — Степан Бандера","Українська мова — це душа нашого народу. — Іван Франко","Нема щастя, як любов до України. — Павло Тичина","Доля — це не випадковість, а вибір. — Олена Теліга","Хто стоїть на землі, той може і не впасти. — Іван Мазепа","Життя — це боротьба за правду і свободу. — В'ячеслав Чорновіл","Не жалій себе, працюй на свою державу. — Євген Коновалець","Любіть Україну в своїй душі. — Володимир Сосюра","Воля — це найвища цінність. — Симон Петлюра","Ідея — сильніша за кулі. — Роман Шухевич","Тільки той, хто бореться, може бути вільним. — Дмитро Донцов","Мужність полягає у вірі і надії. — Василь Симоненко","Не буває перемоги без боротьби. — Микола Хвильовий","Відродження України починається з кожного з нас. — Іван Огієнко","Україна — це святий обов’язок кожного. — Андрій Мельник","Мова — це ключ до національної самосвідомості. — Борис Грінченко","Пам’ятайте, що ми — нація. — Оксана Забужко","Світло правди переможе темряву брехні. — Євген Сверстюк","Краса України — в її простоті і душевності. — Марко Вовчок","Україна — це не просто слово, це сенс життя. — В’ячеслав Липинський","Віра в перемогу — це наша зброя. — Степан Левицький","Справжня сила народу — у його єдності. — Павло Скоропадський","Ніколи не зраджуй своїм ідеалам. — Юрій Липа","Ми — нація сильних духом. — Василь Стус","Свобода — це життя. — Леся Українка","Кожен українець — творець своєї долі. — Іван Франко","Ми маємо право на своє майбутнє. — Олег Ольжич","Пам’ять — це міст між поколіннями. — Дмитро Павличко","Ніколи не забувай, хто ти є. — Олесь Гончар","Ми — народ, який не скориться. — Симон Петлюра","Батьківщина — це любов у серці. — Василь Голобородько","Світ змінюється завдяки людям з великою мрією. — Ліна Костенко","Гідність — це наш непорушний фундамент. — Іван Багряний","Життя — це боротьба, а боротьба — це життя. — Дмитро Донцов","Ми боремося за свою землю і свободу. — Степан Бандера","Кожен день — це шанс зробити крок вперед. — Володимир Винниченко","Сила народу — у його культурі. — Микола Костомаров","Ми — нація творців, а не руйнівників. — Олена Теліга","Правда завжди сильніша за насильство. — Василь Симоненко","Наша мова — наша душа. — Іван Франко","Don't push the horses. — Усик","Справжня впевненість — це навчитися говорити «ні». — GiK","Відкидайте всіх, хто не додає світла у ваше життя. Справжня людина має робити вас щасливими. — GiK","Я не збираюся намагатися подобатися всім, це неможливо. — Billie Eilish","Не шукай кохання. Шукай себе, а кохання саме тебе знайде.","Скоро на тебе чекає приємна несподіванка.","Хтось давно думає про тебе з добром.","Твої зусилля скоро принесуть плоди.","Новий знайомий вплине на твоє життя позитивно.","У найближчі дні ти отримаєш гарну новину.","Несподівана пропозиція відкриє перед тобою двері.","День принесе більше радості, ніж ти очікуєш.","Твоя мрія отримає шанс здійснитися цього тижня.","Випадкова зустріч змінить твій настрій на краще.","Твої таланти незабаром помітять інші.","Відповідь на твоє питання прийде сама собою.","Скоро ти відчуєш полегшення у важливій справі.","Фінансова удача усміхнеться тобі дуже скоро.","Хтось із близьких приємно тебе здивує.","Твоя доброта повернеться до тебе несподівано.","Тобі випаде шанс спробувати щось нове.","Здійсниться бажання, про яке ти майже забув.","Доля подарує тобі гарний збіг обставин.","Ти отримаєш підтримку там, де не очікував.","Найближчий день подарує нову енергію.","Хтось поділиться з тобою цінною інформацією.","Ти отримаєш більше, ніж розраховував.","Маленька подія зробить твій день особливим.","Скоро ти відчуєш гордість за свій вибір.","Твої старання скоро винагородяться подвійно.","Хтось таємно планує зробити тобі приємне.","Несподіваний подарунок зробить тебе щасливим.","Твоя дорога буде легшою, ніж ти думав.","Найближчий час подарує нову надію.","Хтось із минулого з’явиться з хорошими новинами.","Сьогодні на тебе чекає приємний сюрприз.","Найближчим часом ти отримаєш добрі новини.","Твої зусилля незабаром будуть винагороджені.","Хтось думає про тебе з теплом і турботою.","Маленький крок сьогодні відкриє великі можливості завтра.","Новий день принесе несподівану радість.","Сміливі рішення ведуть до великих досягнень.","Хтось оцінить твою доброту вже сьогодні.","Віра в себе змінить твоє життя.","Скоро з’явиться можливість проявити себе.","Щастя приходить до тих, хто вміє чекати.","Кожен день — новий шанс змінити життя.","Справжня сила в умінні залишатися спокійним.","Чим менше страху — тим більше життя.","Усмішка — ключ до сердець інших.","Найцінніше в житті — час і моменти, які ми пам’ятаємо.","Тиша часто говорить більше, ніж слова.","Життя — це подорож, а не пункт призначення.","Добрі справи повертаються добром.","Надія — це маленьке світло в темряві.","«Єдиний спосіб робити велику справу — любити те, що ти робиш.» — Стів Джобс","«Життя — це те, що з тобою відбувається, поки ти будуєш інші плани.» — Джон Леннон","Доля готує для тебе приємну несподіванку.","Скоро ти зустрінеш людину, яка змінить твій день.","Випадковість сьогодні зіграє тобі на користь.","Не бійся спробувати нове — успіх поруч.","Добрі наміри притягують добрі події.","Довіра до себе відкриє нові можливості.","Твоє терпіння буде винагороджено.","Несподівана радість завітає до твого дому.","Маленька перемога сьогодні приведе до великої завтра.","Зосередься на хорошому, і воно примножиться.","Твоє життя готує тобі приємний поворот.","Ти знайдеш те, що давно шукав.","Позитивний настрій сьогодні — ключ до успіху.","Хороші новини вже в дорозі до тебе.","Сьогодні твоя енергія приваблює успіх.","Друзі порадують тебе неочікуваною підтримкою.","Твої мрії ближчі, ніж здаються.","Кожен день наближає тебе до великої радості.","Сьогодні шанс прийде несподівано — не проґав його.","Твоє бажання здійсниться у найнесподіваніший момент.","Хороші події стануться там, де ти їх не чекаєш.","Твоє добре серце приверне потрібних людей.","Невелика зміна сьогодні приведе до великого успіху завтра.","Твоя наполегливість сьогодні дасть плоди.","Відкрийся новим можливостям — вони поруч.","Хороша подія змусить тебе посміхнутися.","Твої старання помітять і оцінять.","Доля готує для тебе теплу зустріч.","Хороші думки сьогодні стануть реальністю.","Твоє життя стане яскравішим завдяки маленькій радості.","Несподіваний дзвінок змінить твій настрій на краще.","Доля сьогодні буде на твоєму боці.","Твоя доброта сьогодні повернеться до тебе.","Скоро ти отримаєш приємний подарунок долі.","Випадкова зустріч принесе щастя.","Твої зусилля будуть оцінені навіть тими, від кого ти цього не чекав.","Кожен твій крок сьогодні наближає успіх.","Ти отримаєш несподівану підтримку від близьких.","Віра у власні сили принесе результат.","Твої ідеї сьогодні знайдуть відгук у серцях інших.","Хороші зміни вже почалися у твоєму житті.","Ти отримаєш більше, ніж очікуєш.","Твоя посмішка сьогодні принесе удачу.","Хороший день починається з гарного настрою — у тебе все вийде.","Ти отримаєш корисну пораду, яка змінить день на краще.","Твій оптимізм сьогодні приверне щастя.","Друзі здивують тебе приємною новиною.","Твоя удача сьогодні сильніша, ніж здається.","Ти знайдеш натхнення у несподіваному місці.","Доля подарує шанс, про який ти мріяв.","Кожен момент сьогодні має особливе значення.","Ти побачиш, що навіть дрібниці приносять щастя.","Хороші люди сьогодні з’являться у твоєму житті.","Несподівана подія зробить день особливим.","Твої старання принесуть плоди швидше, ніж ти думаєш.","Твій настрій сьогодні здатний змінити багато чого.","Хороший сюрприз зробить цей день незабутнім.","Твоя енергія сьогодні приверне правильних людей.","Ти зможеш зробити більше, ніж планував.","Твоя віра у краще сьогодні особливо сильна.","Твоє життя наповниться новими яскравими фарбами.","Добра новина знайде тебе у несподіваний момент.","Невеликий успіх сьогодні стане початком великого шляху.","Твоя щирість сьогодні приверне добрі події.","Хороший шанс з’явиться там, де ти його не чекав.","Твоя удача поруч — довірся їй.","Твоя мрія здійсниться у несподіваний момент.","Найкраще ще попереду.","Щастя прийде тоді, коли ти найменше цього чекатимеш.","Удача посміхнеться тобі в найближчий час.","Твої старання принесуть несподіваний результат.","Нова можливість відкриє перед тобою двері.","Твоє серце знайде гармонію та спокій.","Успіх прийде через наполегливість.","На тебе чекає зустріч, що змінить життя.","Невеликий крок приведе до великої перемоги.","Твоя доброта повернеться до тебе сторицею.","Мрія, про яку ти забув, здійсниться.","На тебе чекає приємна несподіванка.","Несподівана подія принесе користь.","Твоє життя отримає новий яскравий відтінок.","Шанс, який ти шукаєш, вже поруч.","Доля винагородить твоє терпіння.","Ти отримаєш підтримку, про яку й не здогадувався.","Розв’язання проблеми прийде звідти, звідки не чекав.","Твоя усмішка приверне правильних людей.","Випадкова зустріч змінить твій настрій.","На тебе чекає нове натхнення.","Твоя наполегливість приведе до бажаного результату.","Вір у себе — це ключ до успіху.","Дрібна удача переросте у велику перемогу.","Добра новина на шляху до тебе.","Твоє життя наповниться приємними подіями.","Хтось оцінить твої старання.","Несподівана радість увійде до твого життя.","Маленька зміна призведе до великого щастя.","Відповідь, яку ти шукав, з’явиться сама.","Твоє прагнення до кращого буде винагороджене.","З’явиться новий привід для усмішки.","Найважливіше рішення прийде легко.","Ти зустрінеш людину, яка підтримає тебе.","Найближчим часом відбудеться щаслива подія.","Мрія почне втілюватися в реальність.","Твоя доброта зробить життя яскравішим.","Несподівана допомога вирішить складність.","Ти знайдеш гармонію в несподіваному місці.","Щастя прийде через щирість і доброту.","Маленьке диво станеться у твоєму житті.","Випадкова порада виявиться дуже корисною.","Твоє натхнення приведе до нових відкриттів.","Успіх буде там, де ти менше за все його чекаєш.","Доля підготує для тебе приємний подарунок.","Маленька радість переросте у велику подію.","Ти отримаєш те, про що давно мріяв.","Життя піднесе приємний сюрприз.","Удача буде на твоєму боці.","Ти зможеш знайти рішення навіть складної ситуації.","Мрія здійсниться раніше, ніж ти думаєш.","Несподіваний шанс відкриє нові горизонти.","Хороша подія подарує упевненість у собі.","Твої старання принесуть бажаний результат.","Невелика перемога стане початком великих змін.","Доля подарує радісний момент.","Випадкова зустріч залишить приємний слід.","Твоя доброта повернеться вдячністю.","Хороші зміни вже на шляху до тебе.","Ти знайдеш спокій, якого шукав.","Несподіване відкриття зробить тебе щасливішим.","На тебе чекає світлий період життя.","Твоя енергія приверне успіх.","Невелика удача призведе до великої перемоги.","Мрія оживе у найнесподіваніший момент.","Ти отримаєш те, чого заслуговуєш.","Доля готує приємний поворот подій.","Ти отримаєш користь від несподіваного джерела.","Невеликий шанс змінить хід твоїх справ.","Твоя віра у добро принесе щастя.","На тебе чекає тепла зустріч.","Радість прийде через несподіваний подарунок.","Невелика увага до деталей принесе удачу.","Хтось поділиться з тобою добрими новинами.","На твоєму шляху з’явиться корисна можливість.","Маленький комплімент змінить твій настрій.","Твої старання принесуть користь швидко.","Випадковий шанс стане доленосним.","Невелика зміна в житті принесе щастя.","Твоє серце знайде те, що давно шукало.","Несподівана подія зробить життя яскравішим.","Твоя щирість приверне удачу.","Добра справа повернеться вдячністю.","Твоя наполегливість приведе до гарних результатів.","Хтось подякує тобі за твої старання.","Невелике досягнення підніме настрій.","Мрія, про яку ти думав, здійсниться.","Життя подарує приємний сюрприз.","Доля піднесе несподівану допомогу.","Твоє прагнення до нового відкриє двері можливостей.","Випадкова розмова буде дуже корисною.","Невеликий успіх надихне на нові звершення.","Доля відзначить твою працю нагородою.","Хтось приємно здивує тебе турботою.","Твої зусилля принесуть більше, ніж ти чекав.","Невелика радість стане початком великого щастя.","Життя покаже, що добро завжди повертається.","Відкривай серце – і світ відкриється тобі.","Щирість притягує до тебе добрих людей.","Маленькі кроки ведуть до великих звершень.","Кожен новий день – це шанс почати заново.","Доброта завжди знаходить шлях до серця.","Розуміння змінює світ навколо тебе.","Пам’ятай: найцінніше – це час і любов.","Відвага перемагає страх і відкриває можливості.","Ти – творець свого щастя і долі.","Навчайся на помилках і йди вперед.","Найкращі речі приходять несподівано.","Надія світить навіть у найтемніші часи.","Щастя починається з вдячності за сьогодні.","Добро повертається сторицею.","Сміливість змінює твоє життя на краще.","Любов – найсильніша сила на світі.","Відпочинок оновлює душу і тіло.","Кожен день дарує нові можливості.","Твої слова мають силу змінювати світ.","Віра у себе — початок кожного великого успіху.","Щастя не в речах, а у нас самих.","Кожен день — це новий шанс змінити життя.","Справжня сила — у єдності та підтримці.","Відвага — це дія всупереч страху.","Мрії стають реальністю, якщо в них вірити.","Ніколи не здавайся, навіть якщо важко.","Любов і повага об’єднують людей.","Віра і терпіння приносять великі плоди.","Доброта завжди знаходить шлях до серця.","Сміливість творить історію.","Свобода починається з внутрішньої сміливості.","Терпіння і праця все перетруть.","Усмішка — ключ до сердець інших.","Маленькі кроки ведуть до великих звершень.","Розуміння змінює світ навколо тебе.","Твої слова мають силу змінювати світ.","Залишайся собою, і люди цінуватимуть тебе.","Найкращі речі приходять несподівано.","Щастя починається з вдячності за сьогодні.","Віра в себе відкриває шлях до успіху.","Навчайся на помилках і йди вперед.","Ти — творець свого щастя і долі.","Повага починається з поваги до себе.","Любов — найсильніша сила на світі.","Справжня свобода — це внутрішній спокій.","Кожен день — це нова сторінка твоєї історії.","Доброта повертається сторицею.","Ти сильніший, ніж здається.","Не зупиняйся, навіть якщо шлях важкий.","Ти маєш силу змінити своє життя.","Мрії здійснюються тих, хто наважується діяти.","Щастя — це шлях, а не пункт призначення.","Кожен голос важливий.","Рішучість приводить до перемог.","Немає меж для тих, хто вірить.","Добро повертається сторицею.","Ти твориш свою реальність.","Віра у себе — перший крок до успіху.","Свобода — це відповідальність.","Сміливість — перший крок до успіху.","Зміни починаються з тебе.","Пам’ятай, звідки ти прийшов.","Життя — це подарунок, цінуй його.","Кожен день — новий початок.","Сила людини — у її душі.","Любов і повага починаються з себе.","Всі великі справи починаються з ідеї.","Твоє серце знайде гармонію та спокій.","Успіх прийде через наполегливість.","На тебе чекає зустріч, що змінить життя.","Невеликий крок приведе до великої перемоги.","Твоя доброта повернеться до тебе сторицею.","Мрія, про яку ти забув, здійсниться.","На тебе чекає приємна несподіванка.","Несподівана подія принесе користь.","Твоє життя отримає новий яскравий відтінок.","Шанс, який ти шукаєш, вже поруч.","Доля винагородить твоє терпіння.","Нові ідеї приведуть до великих звершень.","Ти отримаєш допомогу тоді, коли вона буде потрібна.","Очікуй на радість і натхнення найближчим часом.","Твої мрії знайдуть шлях до втілення.","Внутрішній спокій дасть сили для нових звершень.","Доля подарує шанс змінити своє життя на краще.","Ти будеш здивований своїми власними можливостями.","Очікуй на приємні новини і зустрічі."];function getMidnightTimestamp(){const now=new Date();now.setHours(0,0,0,0);return now.getTime()}
function canOpenCookie(){const lastOpened=localStorage.getItem('fortuneCookieLastOpened');if(!lastOpened)return!0;const lastDate=new Date(parseInt(lastOpened));const now=new Date();return now.getDate()!==lastDate.getDate()||now.getMonth()!==lastDate.getMonth()||now.getFullYear()!==lastDate.getFullYear()}
function getTimeLeft(){const now=new Date();const tomorrow=new Date();tomorrow.setHours(24,0,0,0);return tomorrow.getTime()-now.getTime()}
function updateLastOpened(){localStorage.setItem('fortuneCookieLastOpened',Date.now().toString())}
function formatTime(ms){const totalSeconds=Math.floor(ms/1000);const hours=Math.floor(totalSeconds/3600);const minutes=Math.floor((totalSeconds%3600)/60);const seconds=totalSeconds%60;return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`}
let countdownInterval;function openCookie(){const backdrop=document.getElementById('fortuneBackdrop');const paper=document.getElementById('fortunePaper');const fortuneText=document.getElementById('fortuneText');if(countdownInterval)clearInterval(countdownInterval);if(canOpenCookie()){fortuneText.textContent=fortunes[Math.floor(Math.random()*fortunes.length)];updateLastOpened()}else{let timeLeft=getTimeLeft();fortuneText.innerHTML=`Печенько можна відкривати лише раз на добу.<br><br>Зачекайте: ${formatTime(timeLeft)}`;countdownInterval=setInterval(()=>{timeLeft-=1000;if(timeLeft<=0){clearInterval(countdownInterval);fortuneText.textContent='Тепер ви можете відкрити печенько знову!'}else{fortuneText.innerHTML=`Печенько можна відкривати лише раз на добу.<br><br>Зачекайте: ${formatTime(timeLeft)}`}},1000)}
backdrop.style.display='flex';paper.style.animation='unroll 0.6s ease forwards';backdrop.onclick=closeCookie;paper.onclick=closeCookie;fortuneText.onclick=function(event){event.stopPropagation()}}
function closeCookie(){const backdrop=document.getElementById('fortuneBackdrop');const paper=document.getElementById('fortunePaper');paper.style.animation='none';backdrop.style.display='none';backdrop.onclick=null;paper.onclick=null;if(countdownInterval)clearInterval(countdownInterval);}
const categories=["Адміністрація","Суд","ДБР","СБС","НАБС","ДАРШ","Поліція","Мерія","Інше",];const categoriesWrapper=document.getElementById("categoriesWrapper");const rolesContainer=document.getElementById("rolesContainer");const noticeContainer=document.getElementById("noticeContainer");const searchInput=document.getElementById("searchInput");const searchResult=document.getElementById("searchResult");const mobileCategoryBtn=document.getElementById("mobileCategoryBtn");const mobileCategoriesDropdown=document.getElementById("mobileCategoriesDropdown");const mobileCategoryText=mobileCategoryBtn.querySelector('span');let activeCategory="Адміністрація";let activeBtn=null;let mobileActiveItem=null;function createCategoryList(){categories.forEach((cat)=>{const li=document.createElement("li");li.className="category";li.innerHTML=`<span class="dot"></span>${cat}`;li.addEventListener("click",()=>setActiveCategory(cat,li));categoriesWrapper.appendChild(li);if(cat==="Адміністрація"){li.classList.add("active");activeBtn=li}});categories.forEach((cat)=>{const div=document.createElement("div");div.className="mobile-category-item";div.textContent=cat;div.addEventListener("click",()=>{setActiveCategory(cat,null);mobileCategoryText.textContent=cat;mobileCategoriesDropdown.classList.remove('show');mobileCategoryBtn.classList.remove('active');if(mobileActiveItem){mobileActiveItem.classList.remove('active')}
div.classList.add('active');mobileActiveItem=div});mobileCategoriesDropdown.appendChild(div);if(cat==="Адміністрація"){div.classList.add('active');mobileActiveItem=div;mobileCategoryText.textContent="Адміністрація"}})}
mobileCategoryBtn.addEventListener('click',(e)=>{e.stopPropagation();mobileCategoriesDropdown.classList.toggle('show');mobileCategoryBtn.classList.toggle('active')});document.addEventListener('click',(e)=>{if(!mobileCategoryBtn.contains(e.target)&&!mobileCategoriesDropdown.contains(e.target)){mobileCategoriesDropdown.classList.remove('show');mobileCategoryBtn.classList.remove('active')}});function setActiveCategory(cat,btn){if(activeCategory===cat){return}
if(activeBtn)activeBtn.classList.remove("active");if(mobileActiveItem)mobileActiveItem.classList.remove('active');activeCategory=cat;if(btn){btn.classList.add("active");activeBtn=btn}
mobileCategoryText.textContent=cat;const mobileItems=mobileCategoriesDropdown.querySelectorAll('.mobile-category-item');mobileItems.forEach(item=>{if(item.textContent===cat){item.classList.add('active');mobileActiveItem=item}});showRoles(cat);rolesContainer.style.opacity=0;rolesContainer.style.transform="translateY(-10px)";setTimeout(()=>{rolesContainer.style.transition="all 0.35s ease";rolesContainer.style.opacity=1;rolesContainer.style.transform="translateY(0)"},10)}
function showRoles(cat){rolesContainer.innerHTML="";noticeContainer.innerHTML="";const rolesDiv=document.createElement("div");rolesDiv.className="roles";let hasRoles=!1;if(typeof players!=="undefined"){for(const[username,roles]of Object.entries(players)){roles.forEach((data)=>{if(data.category===cat){hasRoles=!0;const telegramLink=data.telegram?.startsWith("t.me/")?`https://${data.telegram}`:`tg://openmessage?user_id=${data.telegram}`;const roleDiv=document.createElement("div");roleDiv.className="role";roleDiv.innerHTML=`
            <div class="role-inner">
              <img class="avatar" src="${data.avatar || 'https://via.placeholder.com/150'}" alt="${username}" />
              <div class="role-info">
                <strong>${data.role}</strong><br>
                Username: <b>${username}</b><br>
                Telegram: <a href="${telegramLink}" target="_blank" rel="noopener noreferrer">${data.telegram}</a>
                ${data.status ? `<div class="role-status">${data.status}</div>` : ""}
              </div>
            </div>
          `;rolesDiv.appendChild(roleDiv)}})}}
if(!hasRoles){rolesDiv.innerHTML="<p><b>У цій категорії немає ролей.</b></p>"}
rolesContainer.appendChild(rolesDiv)}
createCategoryList();setTimeout(()=>{showRoles("Адміністрація")},100);const firebaseConfig={apiKey:"AIzaSyAy7OL4vRX_jOCjsY4t7kswy5KLI7_xTDc",authDomain:"globalviewcounter.firebaseapp.com",databaseURL:"https://globalviewcounter-default-rtdb.europe-west1.firebasedatabase.app",projectId:"globalviewcounter",storageBucket:"globalviewcounter.firebasestorage.app",messagingSenderId:"298007727934",appId:"1:298007727934:web:610bab7e3ed1a757c5666f",measurementId:"G-ZRNEWXQDZT"};firebase.initializeApp(firebaseConfig);const database=firebase.database();function activateTab(tabId){const targetBtn=document.querySelector(`.tab-btn[data-tab="${tabId}"]`);const targetPanel=document.getElementById(tabId);if(!targetBtn||!targetPanel)return;document.querySelectorAll(".tab-btn").forEach(btn=>btn.classList.remove("active"));targetBtn.classList.add("active");document.querySelectorAll(".tab-panel").forEach(panel=>panel.classList.remove("active"));targetPanel.classList.add("active")}
function scrollToFaq(tabId,offset=200){const targetPanel=document.getElementById(tabId);if(!targetPanel)return;const faqTitle=targetPanel.querySelector(".faq-title");if(faqTitle){setTimeout(()=>{const topPos=faqTitle.getBoundingClientRect().top+window.pageYOffset-offset;window.scrollTo({top:topPos,behavior:"smooth"})},10)}}
document.querySelectorAll(".tab-btn").forEach(button=>{button.addEventListener("click",()=>{const tabId=button.getAttribute("data-tab");history.pushState(null,"","#"+tabId);activateTab(tabId)})});window.addEventListener("load",()=>{const hash=window.location.hash.substring(1);if(hash){activateTab(hash);scrollToFaq(hash,200)}else{const firstTab=document.querySelector(".tab-btn");if(firstTab)activateTab(firstTab.getAttribute("data-tab"));}});window.addEventListener("hashchange",()=>{const hash=window.location.hash.substring(1);if(hash){activateTab(hash);scrollToFaq(hash,200)}});document.querySelectorAll('.photo img').forEach(img=>{img.addEventListener('click',()=>{document.querySelector('#photo-modal').style.display='flex';document.querySelector('#photo-modal img').src=img.src;document.body.style.overflow='hidden'})});document.querySelector('.photo-close').addEventListener('click',()=>{document.querySelector('#photo-modal').style.display='none';document.body.style.overflow=''});document.querySelector('#photo-modal').addEventListener('click',(e)=>{if(e.target.id==='photo-modal'){e.target.style.display='none';document.body.style.overflow=''}});document.addEventListener("DOMContentLoaded",function(){const photoSection=document.querySelector(".photo-of-the-week");const tabContainer=document.querySelector(".tab-container");const originalParent=photoSection.parentNode;const originalNext=photoSection.nextElementSibling;function movePhotoSection(){if(window.innerWidth<=768){if(tabContainer&&tabContainer.nextElementSibling!==photoSection){tabContainer.insertAdjacentElement("afterend",photoSection)}}else{if(originalNext){originalParent.insertBefore(photoSection,originalNext)}else{originalParent.appendChild(photoSection)}}}
movePhotoSection();window.addEventListener("resize",movePhotoSection)});window.handleSelectChange=function(select){const selectedValue=select.value;const usernameField=document.getElementById('username');if(selectedValue){usernameField.disabled=!1}else{usernameField.disabled=!0;usernameField.value=''}};window.checkLicense=function(){const licenseType=document.getElementById('licenseType').value;const username=document.getElementById('username').value.trim();const modal=document.getElementById('pv-modal');const modalContent=document.getElementById('pv-modal-content');if(!licenseType&&!username){modalContent.innerHTML=`<p class="error">Виберіть категорію для перевірки та введіть username.</p>`;showModal();return}
if(!licenseType){modalContent.innerHTML=`<p class="error">Виберіть категорію для перевірки.</p>`;showModal();return}
if(!username){modalContent.innerHTML=`<p class="error">Введіть username власника.</p>`;showModal();return}
const usernameInput=username.trim().toLowerCase();let userData=null;if(licenses[licenseType]){if(Array.isArray(licenses[licenseType])){userData=licenses[licenseType].filter(u=>u.username.toLowerCase()===usernameInput)}else if(typeof licenses[licenseType]==='object'){const foundKey=Object.keys(licenses[licenseType]).find(k=>k.toLowerCase()===usernameInput);userData=foundKey?licenses[licenseType][foundKey]:null}}
if(licenseType==='business'){if(userData&&userData.length>0){if(userData.length===1){const biz=userData[0];const isCanceled=biz.cans&&biz.cans.startsWith('CANS');const reason=isCanceled?biz.cans.slice(4).trim():null;if(isCanceled){modalContent.innerHTML=`
                    <h2>Реєстрацію Бізнесу Скасовано</h2>
                    <p>Реєстрацію вашого бізнесу <i>${biz.status}</i> скасовано <strong>${reason}</strong></p>
                    <p>Username власника: <strong>${biz.username}</strong><br>
                    Telegram власника: <strong>${biz.telegram}</strong></p>
                `}else{modalContent.innerHTML=`
                    <h2>Інформація про Бізнес ${biz.username}</h2>
                    <p>Назва: <strong>${biz.role}</strong><br>
                    Ідентифікаційний код: <strong>${biz.status}</strong><br>
                    Telegram власника: <strong>${biz.telegram}</strong></p>
                `}}else{const businesses=userData.map((biz,index)=>{const isCanceled=biz.cans&&biz.cans.startsWith('CANS');const reason=isCanceled?biz.cans.slice(4).trim():null;return `
                    <p>
                        <strong>${index + 1}. ${biz.role}</strong><br>
                        Ідентифікаційний код: <strong>${biz.status}</strong><br>
                        ${isCanceled ? `<span style="color:red;">Реєстрацію цього бізнесу скасовано<strong>${reason}</strong></span>` : ``}
                    </p>
                    <hr>
                `}).join('');modalContent.innerHTML=`
                <h2>Наявні Бізнеси у ${username}</h2>
                ${businesses}
                <p>Telegram власника: <strong>${userData[0].telegram}</strong></p>
            `}}else{modalContent.innerHTML=`<p class="error">У ${username} немає зареєстрованих бізнесів.</p>`}
showModal();return}else if(licenseType==='police'){if(userData){let modalHtml=`<h2>Інформація про Поліцейського ${username}</h2>`;const roleLower=(userData.role||'').toLowerCase();if(roleLower.includes('sbs')){modalHtml+=`<p><strong style="color: red;">УВАГА! Це співробітник СБС.</strong><br>
                          Він має право відігравати роль СБС, навіть будучи копом лише за Police Undercover або SSC.</p>`}else if(roleLower.includes('dbr')){modalHtml+=`<p><strong style="color: red;">УВАГА! Це співробітник ДБР.</strong><br>
                          Він має право відігравати роль ДБР, навіть будучи копом лише за Police Undercover або SSC.</p>`}else if(roleLower.includes('court')){modalHtml+=`<p><strong style="color: red;">УВАГА! Це Суддя.</strong><br>
                          Він має право виконувати функції судді або брати участь у судових процесах, навіть будучи копом лише за Police Undercover.</p>`}else if(roleLower.includes('admin')){modalHtml+=`<p><strong style="color: red;">УВАГА! Це представник адміністрації сервера.</strong><br>
                          Він має повноваження адміністратора, навіть будучи копом лише за Police Undercover.</p>`}else if(roleLower.includes('secr')){modalHtml+=`<p><strong style="color: red;">УВАГА! Це співробітник охорони.</strong><br>
                          Він може виконувати обов’язки охоронця, будучи копом.</p>`}else{const xpValue=parseInt(userData.role.replace(/\s/g,''),10);let rank='';if(!isNaN(xpValue)){if(xpValue<=2999)rank='Кадет';else if(xpValue<=5999)rank='Молодший патрульний';else if(xpValue<=9999)rank='Патрульний';else if(xpValue<=12999)rank='Старший патрульний';else if(xpValue<=15499)rank='Молодший сержант';else if(xpValue<=18499)rank='Сержант';else if(xpValue<=21999)rank='Старший сержант';else if(xpValue<=25999)rank='Лейтенант';else if(xpValue<=29999)rank='Капітан';else rank='Ветеран'}else{rank=userData.role}
modalHtml+=`<p><strong>Звання: ${rank}</strong><br>
                          ID: <strong>${userData.status || 'відсутній'}</strong><br>
                          Підрозділ: <strong>${userData.expiry || 'відсутній'}</strong><br>
                          Telegram: <strong>${userData.telegram || 'відсутній'}</strong></p>`}
modalContent.innerHTML=modalHtml}else{modalContent.innerHTML=`<p class="error">У ${username} немає затвердженого звання.</p>`}}else if(licenseType==='sbs'){if(userData){modalContent.innerHTML=`
            <h2>Інформація про Співробітника СБС ${username}</h2>
            <p>
                <strong>Звання: ${userData.role}</strong><br>
                ID: <strong>${userData.status}</strong><br>
                Telegram: <strong>${userData.telegram}</strong>
            </p>
        `}else{modalContent.innerHTML=`<p class="error">${username} не є співробітником СБС.</p>`}}else if(licenseType==='dbr'){if(userData){modalContent.innerHTML=`
            <h2>Інформація про Співробітника ДБР ${username}</h2>
            <p>
                <strong>Звання: ${userData.role}</strong><br>
                ID: <strong>${userData.status}</strong><br>
                Telegram: <strong>${userData.telegram}</strong>
            </p>
        `}else{modalContent.innerHTML=`<p class="error">${username} не є співробітником ДБР.</p>`}}else if(licenseType==='nabs'){if(userData){modalContent.innerHTML=`
            <h2>Інформація про Співробітника НАБС ${username}</h2>
            <p>
                <strong>Звання: ${userData.role}</strong><br>
                ID: <strong>${userData.status}</strong><br>
                Telegram: <strong>${userData.telegram}</strong>
            </p>
        `}else{modalContent.innerHTML=`<p class="error">${username} не є співробітником НАБС.</p>`}}else if(licenseType==='presslicense'){if(userData){if(userData.cans&&userData.cans.startsWith('CANS')){const reason=userData.cans.slice(4).trim();modalContent.innerHTML=`
                <h2>Журналістську Ліцензію Скасовано</h2>
                <p>Прес-карту <i>№${userData.status} (редакція «${userData.role}»)</i> скасовано <strong>${reason}</strong></p>
                <p>Username: <strong>${username}</strong><br>
                Telegram: <strong>${userData.telegram}</strong></p>
            `}else{modalContent.innerHTML=`
                  <h2>Інформація про журналістську ліцензію</h2>
                      <p>Номер: <strong>№${userData.status}</strong>
                      <br>Username: <strong>${username}</strong>
                      <br>Редакція: <strong>${userData.role}</strong>
                      <br>Telegram: <strong>${userData.telegram}</strong>
            `}}else{modalContent.innerHTML=`<p class="error">Журналістська ліцензія у ${username} відсутня.</p>`}}else if(licenseType==='press'){if(userData){if(userData.cans&&userData.cans.startsWith('CANS')){const reason=userData.cans.slice(4).trim();modalContent.innerHTML=`
                <h2>Реєстрацію ЗМІ Скасовано</h2>
                <p>Реєстрацію ЗМІ „<i>${userData.status}</i>” скасовано <strong>${reason}</strong></p>
                <p>Username власника: <strong>${username}</strong><br>
                Telegram власника: <strong>${userData.telegram}</strong></p>
            `}else{modalContent.innerHTML=`
                <h2>Інформація про ЗМІ</h2>
                Назва: <strong>${userData.status}</strong>
                <br>Username власника: <strong>${username}</strong>
                <br>Telegram власника: <strong>${userData.telegram}</strong>
            `}}else{modalContent.innerHTML=`<p class="error">${username} не є власником жодного зареєстрованого ЗМІ.</p>`}}else if(licenseType==='mafia'){if(userData){if(userData.cans&&userData.cans.startsWith('CANS')){const reason=userData.cans.slice(4).trim();modalContent.innerHTML=`
                <h2>Легалізацію ОЗУ Скасовано</h2>
                <p>Легалізацію ОЗУ (тип: ${userData.role}) „<i>${userData.status}</i>” скасовано <strong>${reason}</strong></p>
                <p>Username власника: <strong>${username}</strong><br>
                Telegram власника: <strong>${userData.telegram}</strong></p>
            `}else{modalContent.innerHTML=`
                <h2>Інформація про легалізоване ОЗУ</h2>
                Назва: <strong>${userData.status}</strong>
                <br>Тип: <strong>${userData.role}</strong>
                <br>Username власника: <strong>${username}</strong>
                <br>Telegram власника: <strong>${userData.telegram}</strong>
            `}}else{modalContent.innerHTML=`<p class="error">${username} не є власником легалізованого ОЗУ.</p>`}}else if(licenseType==='taxi'){if(userData){if(userData.cans&&userData.cans.startsWith('CANS')){const reason=userData.cans.slice(4).trim();modalContent.innerHTML=`
                <h2>Таксистську Ліцензію Скасовано</h2>
                Ліцензію <i>${userData.status}</i> скасовано <strong>${reason}</strong>
                <br><br>Username: <strong>${username}</strong>
                <br>Telegram: <strong>${userData.telegram}</strong>
            `}else{modalContent.innerHTML=`
                <h2>Інформація про таксистську ліцензію ${username}</h2>
                Номер: <strong>${userData.status}</strong>
                <br>Telegram: <strong>${userData.telegram}</strong>
            `}}else{modalContent.innerHTML=`<p class="error">Таксистська ліцензія у ${username} відсутня.</p>`}}else if(licenseType==='advocat'){if(userData){if(userData.cans&&userData.cans.startsWith('CANS')){const reason=userData.cans.slice(4).trim();modalContent.innerHTML=`
                <h2>Адвокатську Ліцензію Скасовано</h2>
                Адвокатську ліцензію <i>${userData.status}</i> скасовано <strong>${reason}</strong>
                <br>Username: <strong>${username}</strong>
                <br>Telegram: <strong>${userData.telegram}</strong>
            `}else{modalContent.innerHTML=`
                <h2>Інформація про адвокатську ліцензію</h2>
                <p>Номер: <strong>${userData.status}</strong></p>
                <p>Username: <strong>${username}</strong><br>
                Telegram: <strong>${userData.telegram}</strong></p>
            `}}else{modalContent.innerHTML=`<p class="error">Адвокатська ліцензія у ${username} відсутня.</p>`}}else if(licenseType==='weapon'){if(userData){if(userData.expiry==="00.00.0000"){modalContent.innerHTML=`<h3>Інформація про ліцензію на зброю для ${username}</h3>
                <p>
                    Статус: <strong>скасовано через ${userData.status}</strong><br>
                    <small>Ліцензія не підлягає відновленню. Якщо ви вважаєте інакше, будь ласка, подайте апеляцію до суду.</small><br><br>
                    Telegram: <strong>${userData.telegram}</strong>
                </p>`}else{const today=new Date();let startDate,endDate;let hasRange=userData.expiry.includes('to');let statusMessage='';let extraText='';if(hasRange){const[startRaw,endRaw]=userData.expiry.split('to').map(str=>str.trim());const[startDay,startMonth,startYear]=startRaw.split('.');const[endDay,endMonth,endYear]=endRaw.split('.');startDate=new Date(`${startYear}-${startMonth}-${startDay}T00:00:00`);endDate=new Date(`${endYear}-${endMonth}-${endDay}T23:59:59`);if(today<startDate){statusMessage=`Неактивна. <br>Буде активна з ${startRaw} до ${endRaw}</strong>`}else if(today>endDate){statusMessage="Не дійсна. <br>Для поновлення зв'яжіться з адміністратором."}else{statusMessage=`Дійсна`;extraText=` з ${startRaw} до ${endRaw}`}}else{const[day,month,year]=userData.expiry.split('.');startDate=new Date('2000-01-01T00:00:00');endDate=new Date(`${year}-${month}-${day}T23:59:59`);if(today>endDate){statusMessage="Не дійсна. <br>Для поновлення зв'яжіться з адміністратором."}else{statusMessage="Дійсна";extraText=`<br>Дійсна до: <strong>${userData.expiry}</strong>`}}
modalContent.innerHTML=`<h2>Інформація про ліцензію на зброю</h2>
                <p>
                    Username: <strong>${username}</strong><br>
                    Статус: <strong>${statusMessage}</strong>${hasRange ? extraText : ''}${!hasRange ? extraText : ''}<br>
                    Telegram: <strong>${userData.telegram}</strong>
                </p>`}}else{modalContent.innerHTML=`<p class="error">Ліцензія для ${username} не знайдена.</p>`}}
showModal()}
function showModal(){const modal=document.getElementById('pv-modal');modal.classList.add('show')}
function pvCloseModal(){const modal=document.getElementById('pv-modal');modal.classList.remove('show')}
document.getElementById('username').addEventListener('input',function(){if(this.value.trim()===""){pvCloseModal()}});let selectedCategory='';document.querySelectorAll('.servergallery-tab').forEach(tab=>{tab.addEventListener('click',()=>{document.querySelectorAll('.servergallery-tab').forEach(t=>t.classList.remove('active'));tab.classList.add('active');document.querySelectorAll('.servergallery-panel').forEach(panel=>panel.classList.remove('active'));document.getElementById(tab.dataset.target).classList.add('active')})});var servergallerymodal=document.getElementById('servergallerymodal');var servergallerymodalImg=document.getElementById('servergallerymodalimg');var servergallerymodalClose=document.querySelector('.servergallery-close');document.querySelectorAll('.servergallery-photo').forEach(photo=>{photo.addEventListener('click',()=>{servergallerymodal.style.display="block";servergallerymodalImg.src=photo.src})});servergallerymodalClose.onclick=()=>{servergallerymodal.style.display="none"};document.querySelectorAll('.servergallery-thumbnails img').forEach(thumb=>{thumb.addEventListener('click',()=>{var parent=thumb.closest('.servergallery-event');var mainPhoto=parent.querySelector('.servergallery-photo');mainPhoto.src=thumb.src})});const eventSelector=document.getElementById("eventSelector");const eventDateSelector=document.getElementById("eventDateSelector");const photoOfWeekSelector=document.getElementById("photoOfWeekSelector");const events=document.querySelectorAll("#events .servergallery-event");const eventMap={};events.forEach((ev,i)=>{const title=ev.querySelector(".servergallery-event-title")?.innerText.trim();const date=ev.querySelector(".servergallery-event-date")?.innerText.trim();if(title&&date){if(!eventMap[title])eventMap[title]=[];eventMap[title].push({date,index:i})}});Object.keys(eventMap).forEach(title=>{const opt=document.createElement("option");opt.value=title;opt.textContent=title;eventSelector.appendChild(opt)});eventSelector.addEventListener("change",()=>{eventDateSelector.innerHTML=`<option value="">Обери дату</option>`;eventDateSelector.style.display="none";const title=eventSelector.value;if(title&&eventMap[title]){eventMap[title].forEach(ev=>{const opt=document.createElement("option");opt.value=ev.index;opt.textContent=ev.date;eventDateSelector.appendChild(opt)});eventDateSelector.style.display="inline-block"}});document.querySelectorAll("#photooftheweek .servergallery-event").forEach((ev,i)=>{const date=ev.querySelector(".servergallery-event-date-ph")?.innerText.trim();if(date){const opt=document.createElement("option");opt.value=i;opt.textContent=date;photoOfWeekSelector.appendChild(opt)}});document.querySelectorAll(".servergallery-tab").forEach(tab=>{tab.addEventListener("click",()=>{if(tab.dataset.target==="events"){eventSelector.style.display="inline-block";eventDateSelector.style.display="none";photoOfWeekSelector.style.display="none"}else{eventSelector.style.display="none";eventDateSelector.style.display="none";photoOfWeekSelector.style.display="inline-block"}})});if(document.querySelector(".servergallery-tab.active")?.dataset.target==="events"){eventSelector.style.display="inline-block"}else{photoOfWeekSelector.style.display="inline-block"}
function scrollToElement(el){if(!el)return;const top=el.getBoundingClientRect().top+window.scrollY-150;window.scrollTo({top,behavior:"smooth"})}
eventDateSelector.addEventListener("change",()=>{if(eventDateSelector.value!==""){const target=events[eventDateSelector.value];scrollToElement(target)}});photoOfWeekSelector.addEventListener("change",()=>{if(photoOfWeekSelector.value!==""){const target=document.querySelectorAll("#photooftheweek .servergallery-event")[photoOfWeekSelector.value];scrollToElement(target)}});document.addEventListener("DOMContentLoaded",()=>{const loadingScreen=document.getElementById("loading-screen");if(!loadingScreen)return;const minDisplayTime=1000;const startTime=Date.now();const hideLoadingScreen=()=>{const elapsed=Date.now()-startTime;const remainingTime=Math.max(0,minDisplayTime-elapsed);setTimeout(()=>{loadingScreen.style.opacity="0";setTimeout(()=>{loadingScreen.style.display="none"},500)},remainingTime)};if(document.readyState==='complete'){hideLoadingScreen()}else{window.addEventListener('load',hideLoadingScreen)}
setTimeout(hideLoadingScreen,5000)});function createSnowflakes(){const snowContainer=document.createElement('div');snowContainer.className='snow-container';document.body.appendChild(snowContainer);const snowflakeCount=150;for(let i=0;i<snowflakeCount;i++){createSnowflake(snowContainer)}}
function createSnowflake(container){const snowflake=document.createElement('div');snowflake.className='snowflake';const size=Math.random()*4+2;snowflake.style.width=`${size}px`;snowflake.style.height=`${size}px`;snowflake.style.left=`${Math.random() * 100}vw`;const duration=Math.random()*5+5;snowflake.style.animationDuration=`${duration}s`;snowflake.style.animationDelay=`${Math.random() * 5}s`;container.appendChild(snowflake);setTimeout(()=>{snowflake.remove();createSnowflake(container)},duration*1000+5000)}
document.addEventListener('DOMContentLoaded',createSnowflakes)
